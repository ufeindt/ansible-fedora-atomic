- hosts: localhost
  tasks:
    - name: Remove default Firefox with rpm-ostree
      community.general.rpm_ostree_pkg:
        name:
          - firefox
          - firefox-langpacks
        state: absent
    - name: Layer required packages with rpm-ostree
      community.general.rpm_ostree_pkg:
        name:
          - bat
          - btop
          - chezmoi
          - distrobox
          - fastfetch
          - fd-find
          - fish
          - git-delta
          - keychain
          - kitty
          - kitty-kitten
          - neovim
          - podman-compose
          - ripgrep
          - zoxide
        state: present
    - name: Add the flathub flatpak repository remote to the user installation
      community.general.flatpak_remote:
        name: flathub
        state: present
        flatpakrepo_url: https://dl.flathub.org/repo/flathub.flatpakrepo
    - name: Install packages from flathub
      community.general.flatpak:
        name:
          - app.zen_browser.zen
          - com.discordapp.Discord
          - com.github.tchx84.Flatseal
          - com.nextcloud.desktopclient.nextcloud
          - com.protonvpn.www
          - com.transmissionbt.Transmission
          - md.obsidian.Obsidian
          - org.chromium.Chromium
          - org.gimp.GIMP
          - org.gnome.Evince
          - org.gnome.Papers
          - org.inkscape.Inkscape
          - org.kde.yakuake
          - org.mozilla.firefox
          - org.onlyoffice.desktopeditors
          - org.videolan.VLC
